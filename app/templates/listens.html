{% extends "base.html" %}

{% block content %}

<!--updates:
make all textbox be search dropdown that fills with db table elements to make it harder to write one band name a million ways-->
	<h3>Recent Listens:</h3>
	<form id="updatelistens" action="#">
		<table style="width:100%">
		  <tr>
		    <th>Time</th>
		    <th>Play</th> 
		    <th>Add to Library</th>
		    <th>Check if Music</th>
		    <th>Title</th>
		    <th>Artist</th> 
		    <th>Album</th>
		    <th>Track Number</th>
		    <th>Release Date</th> 
		  </tr>
			{%set i = 0%}
			{%for vid in listens_vid_data%}
				<div class="row">
					
					<div class="{{vid[0]}}">
					<tr>
						<td>{{vid[2].strftime('%a %I:%M %p')}}</td> 
						<td><input type = "checkbox" id = "play{{i | string}}" ></td>
						<td><input type = "checkbox" id = "library{{i | string}}"></td> 
						<td><input type = "checkbox" id = "music{{i | string}}" {{"checked" if vid[5]}}></td> 
						<td><input type="textbox" id="title{{i | string}}" value="{{vid[4]}}"></td> 
						<td><input type="textbox" id="artist{{i | string}}" value="{{vid[7]}}"></td> 
						<td><input type="textbox" id="album{{i | string}}" value="{{vid[9]}}"></td> 
						<td><input type="text" class="datepicker" id="release_date{{i | string}}" value = "{{vid[6] if vid[6]}}"></td>
					</tr>
					<hidden id="youtube_id{{i | string}}" value="{{vid[1]}}"></hidden>
					<hidden id="artist_id{{i | string}}" value="{{vid[11]}}"></hidden>
					<hidden id="album_id{{i | string}}" value="{{vid[12]}}"></hidden>
					</div>
					
				</div>
				{%set i = i + 1%}
				{{"i = " + i | string}}
				
			{%endfor%}
		</table>

		<input type="submit" value="Play Videos & Submit Updates">
	</form>

	<!--scripts-->
	<link rel="stylesheet" href="{{ url_for('static', filename = 'css/table.css') }}">
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
  	<link rel="stylesheet" href="/resources/demos/style.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type = "text/javascript" src = "{{ url_for('static', filename = 'js/submitlistens.js') }}"></script> 	
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
	<!--end scripts-->

  
{% endblock %}